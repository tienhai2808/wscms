{% extends 'base.html' %}

{% block content %}
<h1 class="text-center">Quản lý người dùng</h1>
<hr>
<div class="container d-flex justify-content-center">
  <div style="width: 80%;">
    <div class="d-flex mb-3" style="justify-content: flex-end;">
      <a href="/quan-ly/them-nhan-vien/" class="btn btn-secondary mt-4 me-4">Thêm nhân viên</a>
      <form class="d-flex justify-content-center gap-3">
        <div>
          <label for="select-permission">Chức vụ</label><br>
          <select id="select-permission" name="permission" class="form-select" style="cursor: pointer;">
            <option value="">Tất Cả</option>
            <option {% if permission == 'Nhân viên' %} selected {% endif %}>Nhân viên</option>
            <option {% if permission == 'Khách hàng' %} selected {% endif %}>Khách hàng</option>
          </select>
        </div>
        <button type="submit" class="btn btn-secondary mt-4">Lọc</button>
      </form>
    </div>
    <table class="table table-hover table-bordered">
      <thead class="table-secondary">
        <tr>
          <th scope="col" class="text-center">Tài khoản</th>
          <th scope="col" class="text-center">Họ Tên</th>
          <th scope="col" class="text-center">Chức vụ</th>
          <th scope="col" class="text-center">Xem chi tiết</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td class="text-center">{{ user.username }}</a></td>
          <td class="text-center">{{ user.first_name }} {{ user.last_name }}</td>
          <td class="text-center">{{ user.profile.permission }}</td>
          <td class="text-center"><a style="text-decoration: none;" href="{{ user.id }}/">Tại đây</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}